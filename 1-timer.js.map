{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["//TODO: –¢–∞–π–º–µ—Ä –∑–≤–æ—Ä–æ—Ç–Ω–æ–≥–æ –≤—ñ–¥–ª—ñ–∫—É\n//? –ù–∞–ø–∏—à–∏ —Å–∫—Ä–∏–ø—Ç —Ç–∞–π–º–µ—Ä–∞, —è–∫–∏–π –∑–¥—ñ–π—Å–Ω—é—î –∑–≤–æ—Ä–æ—Ç–Ω–∏–π –≤—ñ–¥–ª—ñ–∫ –¥–æ –ø–µ–≤–Ω–æ—ó –¥–∞—Ç–∏. –¢–∞–∫–∏–π —Ç–∞–π–º–µ—Ä –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è —É –±–ª–æ–≥–∞—Ö, —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞—Ö, —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –ø–æ–¥—ñ–π, –ø—ñ–¥ —á–∞—Å —Ç–µ—Ö–Ω—ñ—á–Ω–æ–≥–æ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è —Ç–æ—â–æ. –ü–æ–¥–∏–≤–∏—Å—è –¥–µ–º–æ–≤—ñ–¥–µ–æ —Ä–æ–±–æ—Ç–∏ —Ç–∞–π–º–µ—Ä–∞.\n\n//* Import libraries\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n//* Find elements\nconst dateInput = document.querySelector('.date-input');\nconst startBtn = document.querySelector('.start-btn');\n\nconst clockValue = document.querySelectorAll('.value');\nconst daysValue = document.querySelector('.days');\nconst hoursValue = document.querySelector('.hours');\nconst minutesValue = document.querySelector('.minutes');\nconst secondsValue = document.querySelector('.seconds');\n\n//* Initilizate library\nlet UserSelectedDeadline;\n\nconst DI = flatpickr(\".date-input\", {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        if (selectedDates[0] - new Date() <= 0) {\n            iziToast.show({\n                message: 'Please choose a date in the future',\n                messageColor: 'white',\n                messageSize: '30',\n                backgroundColor: 'red',\n                theme: 'light',\n            });\n            \n            dateInput.classList.add('error');\n            startBtn.setAttribute(\"disabled\", \"\");\n            startBtn.classList.add('disabled');\n        } else {\n            startBtn.removeAttribute(\"disabled\", \"\");\n            startBtn.classList.remove('disabled');\n            dateInput.classList.remove('error');\n\n            UserSelectedDeadline = selectedDates[0];\n        }\n    },\n});\n\n//* Add event listener\nconst timer = {\n    interval: null,\n\n    start() {\n            startBtn.setAttribute(\"disabled\", \"\");\n            startBtn.classList.add('disabled');\n            dateInput.setAttribute(\"disabled\", \"\");\n\n            this.interval = setInterval(() => {\n            const diff = UserSelectedDeadline - Date.now();\n                \n            if(diff <= 0){\n                timer.stop();\n\n                startBtn.removeAttribute(\"disabled\", \"\");\n                startBtn.classList.remove('disabled');\n                dateInput.removeAttribute(\"disabled\", \"\");\n                dateInput.classList.remove('error');\n\n                iziToast.show({\n                    message: 'Time is out!üéâ',\n                    messageColor: 'white',\n                    messageSize: '30',\n                    backgroundColor: 'green',\n                    theme: 'light',\n                });\n                return;\n            }\n\n            const timeComponents =  this.convertMs(diff);\n\n            daysValue.textContent = this.padFunc(Math.floor(timeComponents.days));\n            hoursValue.textContent = this.padFunc(Math.floor(timeComponents.hours));\n            minutesValue.textContent = this.padFunc(Math.floor(timeComponents.minutes));\n            secondsValue.textContent = this.padFunc(Math.floor(timeComponents.seconds));\n        }, 1000)\n    },\n\n    convertMs(ms) {\n        const second = 1000;\n        const minute = second * 60;\n        const hour = minute * 60;\n        const day = hour * 24;\n\n        const days = Math.floor(ms / day);\n        const hours = Math.floor((ms % day) / hour);\n        const minutes = Math.floor(((ms % day) % hour) / minute);\n        const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n        return { days, hours, minutes, seconds };\n},\n\n    padFunc(num){\n        return String(num).padStart(2, 0);\n    },\n\n    stop(){\n        clearInterval(this.interval);\n\n        clockValue.forEach((el) => { el.value = '00' });\n    }\n}\n\nstartBtn.addEventListener('click', () => {\n    timer.start();\n})"],"names":["dateInput","startBtn","clockValue","daysValue","hoursValue","minutesValue","secondsValue","UserSelectedDeadline","flatpickr","selectedDates","iziToast","timer","diff","timeComponents","ms","days","hours","minutes","seconds","num","el"],"mappings":"+IAWA,MAAMA,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAE9CC,EAAa,SAAS,iBAAiB,QAAQ,EAC/CC,EAAY,SAAS,cAAc,OAAO,EAC1CC,EAAa,SAAS,cAAc,QAAQ,EAC5CC,EAAe,SAAS,cAAc,UAAU,EAChDC,EAAe,SAAS,cAAc,UAAU,EAGtD,IAAIC,EAEOC,EAAU,cAAe,CAChC,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACfA,EAAc,CAAC,EAAI,IAAI,MAAU,GACjCC,EAAS,KAAK,CACV,QAAS,qCACT,aAAc,QACd,YAAa,KACb,gBAAiB,MACjB,MAAO,OACvB,CAAa,EAEDV,EAAU,UAAU,IAAI,OAAO,EAC/BC,EAAS,aAAa,WAAY,EAAE,EACpCA,EAAS,UAAU,IAAI,UAAU,IAEjCA,EAAS,gBAAgB,WAAY,EAAE,EACvCA,EAAS,UAAU,OAAO,UAAU,EACpCD,EAAU,UAAU,OAAO,OAAO,EAElCO,EAAuBE,EAAc,CAAC,EAE7C,CACL,CAAC,EAGD,MAAME,EAAQ,CACV,SAAU,KAEV,OAAQ,CACAV,EAAS,aAAa,WAAY,EAAE,EACpCA,EAAS,UAAU,IAAI,UAAU,EACjCD,EAAU,aAAa,WAAY,EAAE,EAErC,KAAK,SAAW,YAAY,IAAM,CAClC,MAAMY,EAAOL,EAAuB,KAAK,IAAG,EAE5C,GAAGK,GAAQ,EAAE,CACTD,EAAM,KAAI,EAEVV,EAAS,gBAAgB,WAAY,EAAE,EACvCA,EAAS,UAAU,OAAO,UAAU,EACpCD,EAAU,gBAAgB,WAAY,EAAE,EACxCA,EAAU,UAAU,OAAO,OAAO,EAElCU,EAAS,KAAK,CACV,QAAS,iBACT,aAAc,QACd,YAAa,KACb,gBAAiB,QACjB,MAAO,OAC3B,CAAiB,EACD,MACH,CAED,MAAMG,EAAkB,KAAK,UAAUD,CAAI,EAE3CT,EAAU,YAAc,KAAK,QAAQ,KAAK,MAAMU,EAAe,IAAI,CAAC,EACpET,EAAW,YAAc,KAAK,QAAQ,KAAK,MAAMS,EAAe,KAAK,CAAC,EACtER,EAAa,YAAc,KAAK,QAAQ,KAAK,MAAMQ,EAAe,OAAO,CAAC,EAC1EP,EAAa,YAAc,KAAK,QAAQ,KAAK,MAAMO,EAAe,OAAO,CAAC,CAC7E,EAAE,GAAI,CACV,EAED,UAAUC,EAAI,CAMV,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC9C,EAEI,QAAQC,EAAI,CACR,OAAO,OAAOA,CAAG,EAAE,SAAS,EAAG,CAAC,CACnC,EAED,MAAM,CACF,cAAc,KAAK,QAAQ,EAE3BjB,EAAW,QAASkB,GAAO,CAAEA,EAAG,MAAQ,IAAI,CAAE,CACjD,CACL,EAEAnB,EAAS,iBAAiB,QAAS,IAAM,CACrCU,EAAM,MAAK,CACf,CAAC"}